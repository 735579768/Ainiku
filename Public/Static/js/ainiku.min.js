!function(t,e){var o={};o.fn=o.prototype={config:{zindex:9999,animate:!1,version:"1.0.0"},init:function(t){return this.extend(t,this.config),this},drag:function(e){var o={obj:null,titleheight:50,space:!1,spacestyle:""},i=this,n=t(document),a={xxx:0,yyy:0,_x:0,_y:0,_mouseDown:!1},l=this.extend(e,o),p=l.obj,r=function(t){a.xxx=p.offset().left,a.yyy=p.offset().top,a._x=t.pageX-a.xxx,a._y=t.pageY-a.yyy},s=function(t){return p.offset().top>=0&&(0===l.titleheight||l.titleheight>=t.pageY-p.offset().top)?(p.css("cursor","move"),!0):(p.css("cursor","auto"),!1)};p.bind("mousedown",function(t){a._mouseDown=!0,r(t)}),p.bind("mousemove",function(t){if(s(t)&&a._mouseDown){var e=n.scrollTop();xx=t.pageX-a._x,yy=t.pageY-a._y-e,p.css({zIndex:i.config.zindex-1,position:"fixed",left:xx,top:yy>0?yy:0,margin:0})}return!1}),p.bind("mouseup mouseout",function(){a._mouseDown=!1})},show:function(t,e){if(this.animate){var o=t.width(),i=t.height(),n=t.outerWidth()/2,a=t.outerHeight()/2;t.css({display:"block",opacity:0,width:10,height:10,marginLeft:-5,marginTop:-5}),t.animate({opacity:1,width:o,height:i,marginLeft:-n,marginTop:-a},300,function(){})}else"function"==typeof e&&e(t)},hide:function(t,e){if(this.animate){var o=(t.width(),t.height(),t.outerWidth()/2),i=t.outerHeight()/2;t.css({top:"45%",left:"50%",marginLeft:-o,marginTop:-i}),t.animate({opacity:0,width:0,height:0,marginLeft:0,marginTop:0},200,function(){t.remove(),"function"==typeof e&&e(t)})}else t.remove(),"function"==typeof e&&e(t)},msg:function(t,o){var i=0,n="没有消息!",a="";"object"==typeof t?(n=t.info,"0"==t.status&&(i=6),t.url&&(a=t.url.replace(" ",""))):n=t;var l=[n,{shift:i},function(){"function"==typeof o&&o(t),""!=a&&(e.location.href=a)}];parent?parent.layer.msg.apply(parent.layer,l):layer.msg.apply(layer,l)},open:function(){parent?parent.layer.open.apply(parent.layer,arguments):layer.open.apply(layer,arguments)},load:function(){parent?parent.layer.load.apply(parent.layer,arguments):layer.load.apply(layer,arguments)},close:function(){parent?parent.layer.close.apply(parent.layer,arguments):layer.close.apply(layer,arguments)},maopao:function(o){var i={effect:"fade",title:"提示",content:"",button:!1,autohidden:!1,iframe:null,width:null,height:null,shijian:10},n=function(){t(".klmpmsg").animate({bottom:"-"+t(".klmpmsg").outerHeight()},2e3,function(){t(".klmpmsg").remove(),t("#dialogstyle").remove(),e.clearInterval(e.maopaoid)})},a="<style id='dialogstyle'>.klmpmsg{border-radius:5px;box-shadow:2px 2px 5px #cecece;font-family:Microsoft Yahei;overflow:hidden;position:fixed;z-index:"+this.config.zindex+";bottom:10px;right:10px;min-height:50px;min-width:100px;background-color:#FFF;border:5px solid #999;font-family:Microsoft Yahei;font-size:14px;color:#333;opacity:1;border:5px solid rgba(0,0,0,0.3);_position:absolute;_bottom:auto;_top:expression(eval(document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight-(parseInt(this.currentStyle.marginTop,10)||0)-(parseInt(this.currentStyle.marginBottom,10)||0)));}.klmpmsg .klmpmsgbar{height:20px;padding:5px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:bold;border-bottom:solid 1px #cecece;}.klmpmsg .klmpmsgbar .klmptitle{color:red;float:left;padding:0px 10px 0px 0px;}.klmpmsg .klmpmsgbar .klclose{float:right;padding:0px 10px;font-weight:bolder;cursor:pointer;color:#f00;}.klmpmsg .klmpmsgc iframe{border:none;width:100%;height:100%;}.klmpmsg .klmpmsgc{width:100%;height:100%;padding:10px;}.klmpmsg .klmpmsgbtn{float:right;display:block;padding:10px;}.klmpmsg .klmpmsgbtn a{color:#ffffff;background-color:#FE8431;border-color:#FE8431;text-decoration:none;width:auto;padding:3px 15px;font-size:16px;text-align:center;cursor:pointer;}</style>";t("#dialogstyle").remove(),t(".klmpmsg").remove(),e.clearInterval(e.maopaoid),t("body").append(a),"string"!=typeof o?i=t.extend(o,i):i.content=o;var l='<div class="klmpmsgbtn"><a href="javascript:;">确定</a></div>';i.button||(l=""),null!=i.iframe&&(i.content='<iframe src="'+i.iframe+'"></iframe>');var p='<div class="klmpmsg"><div class="klmpmsgbar"><div class="klmptitle">'+i.title+'</div><div class="klclose" title="点击关闭">X</div></div><div class="klmpmsgc">'+i.content+"</div>"+l+"</div>";t("body").append(p),t(".klmpmsg").width(t(".klmpmsg").outerWidth()),t(".klmpmsg .klmpmsgbtn a,.klmpmsg .klmpmsgbar .klclose").bind("click",function(){n()}),t(".klmpmsg").css("bottom","-"+t(".klmpmsg").outerHeight()+"px"),t(".klmpmsg").animate({bottom:"20px"},1e3,function(){t(".klmpmsg").animate({bottom:"10px"},300)}),i.autohidden&&setTimeout(function(){t.maopaoMsg.msgHidden()},1e3*i.shijian),e.maopaoid=e.setInterval(function(){var e=t(".klmptitle").html();e==i.title?t(".klmptitle").html(""):t(".klmptitle").html(i.title)},1e3)},extend:function(){var t=arguments[0]||{},e=arguments[1]||this;for(var o in t)e[o]=t[o];return e},ajax:function(e){e=e||{};var o={type:"POST",url:"",data:{},success:function(t){},timeout:function(t){}};o=this.extend(e,o),t.ajax(o)},get:function(t,e,o){this.ajax({type:"GET",url:t,data:e,success:o})},loadhtml:function(t,e,o,i){"undefined"==typeof i&&(i="GET"),i=i.toUpperCase(),o.html("正在加载数据..."),this.ajax({type:i,url:t,data:e,success:function(t){o.html(t)}})},post:function(t,e,o){this.ajax({type:"POST",url:uri,data:e,success:o})}},e.ank=o.fn.init({})}($,window);